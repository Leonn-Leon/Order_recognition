import base64
import json
import xml.etree.ElementTree as ET
import html

import pandas as pd
from bs4 import BeautifulSoup

# Функция для парсинга XML и извлечения HTML-содержимого
def html_from_xml(xml_data):
    # Парсинг XML
    root = ET.fromstring(xml_data)
    # Нахождение элемента fileContent и декодирование HTML-содержимого
    html_content = html.unescape(root.find('.//fileContent').text)
    return html_content

# Функция для преобразования HTML в текст
def convert_html_to_text(html_content):
    soup = BeautifulSoup(html_content, features="html.parser")
    return soup.get_text('\n').replace('\r\n', ' ')

def xml_from_hash(hash):
    content = base64.standard_b64decode(base64.standard_b64decode(hash)).decode('utf-8')
    return content
def text_from_hash(hash):
    content = xml_from_hash(hash)
    try:
        html_content = html_from_xml(content)
    except:
        html_content = json.loads(content)["fileContent"]
    text = convert_html_to_text(html_content)
    text = remove_new_lines(text)
    return text

def remove_new_lines(text):
    text = text.replace("\xa0", ' ')
    while ' \n' in text:
        text = text.replace(' \n', '\n')
    while '\n ' in text:
        text = text.replace('\n ', '\n')
    while '\n\n' in text:
        text = text.replace('\n\n', '\n')
    print('Всего строк', len(text.split('\n')), flush=True)
    return text

if __name__ == '__main__':
    # hash = "UEQ5NGJXd2dkbVZ5YzJsdmJqMG5NUzR3SnlCbGJtTnZaR2x1WnowbmRYUm1MVGduUHo0OGMyOWhjR1Z1ZGpwRmJuWmxiRzl3WlNCNGJXeHVjenB6YjJGd1pXNTJQU0pvZEhSd09pOHZjMk5vWlcxaGN5NTRiV3h6YjJGd0xtOXlaeTl6YjJGd0wyVnVkbVZzYjNCbEx5SStQSE52WVhCbGJuWTZRbTlrZVQ0OGFuTnZiazlpYW1WamRENDhiMkpxWldOMFRtRnRaVDV0YzJkZlltTmpaVEJqWm1RMU1qUTJNelppWWpnelptWXpOMkZsWWpJM09ETTNaVEk4TDI5aWFtVmpkRTVoYldVK1BHSjFZMnRsZEU1aGJXVStZM0p0TFdWdFlXbHNQQzlpZFdOclpYUk9ZVzFsUGp4bWFXeGxRMjl1ZEdWdWRENG1iSFE3YUhSdGJDQjRiV3h1Y3pwMlBTSjFjbTQ2YzJOb1pXMWhjeTF0YVdOeWIzTnZablF0WTI5dE9uWnRiQ0lnZUcxc2JuTTZiejBpZFhKdU9uTmphR1Z0WVhNdGJXbGpjbTl6YjJaMExXTnZiVHB2Wm1acFkyVTZiMlptYVdObElpQjRiV3h1Y3pwM1BTSjFjbTQ2YzJOb1pXMWhjeTF0YVdOeWIzTnZablF0WTI5dE9tOW1abWxqWlRwM2IzSmtJaUI0Yld4dWN6cHRQU0pvZEhSd09pOHZjMk5vWlcxaGN5NXRhV055YjNOdlpuUXVZMjl0TDI5bVptbGpaUzh5TURBMEx6RXlMMjl0Yld3aUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk5VVVpOVNSVU10YUhSdGJEUXdJajRtSTNoa093b21iSFE3YUdWaFpENG1JM2hrT3dvbWJIUTdiV1YwWVNCb2RIUndMV1Z4ZFdsMlBTSkRiMjUwWlc1MExWUjVjR1VpSUdOdmJuUmxiblE5SW5SbGVIUXZhSFJ0YkRzZ1kyaGhjbk5sZEQxMWRHWXRPQ0krSmlONFpEc0tKbXgwTzIxbGRHRWdibUZ0WlQwaVIyVnVaWEpoZEc5eUlpQmpiMjUwWlc1MFBTSk5hV055YjNOdlpuUWdWMjl5WkNBeE5TQW9abWxzZEdWeVpXUWdiV1ZrYVhWdEtTSStKaU40WkRzS0pteDBPeUV0TFZ0cFppQWhiWE52WFNabmREc21iSFE3YzNSNWJHVStkbHc2S2lCN1ltVm9ZWFpwYjNJNmRYSnNLQ05rWldaaGRXeDBJMVpOVENrN2ZTWWplR1E3Q205Y09pb2dlMkpsYUdGMmFXOXlPblZ5YkNnalpHVm1ZWFZzZENOV1RVd3BPMzBtSTNoa093cDNYRG9xSUh0aVpXaGhkbWx2Y2pwMWNtd29JMlJsWm1GMWJIUWpWazFNS1R0OUppTjRaRHNLTG5Ob1lYQmxJSHRpWldoaGRtbHZjanAxY213b0kyUmxabUYxYkhRalZrMU1LVHQ5SmlONFpEc0tKbXgwT3k5emRIbHNaVDRtYkhRN0lWdGxibVJwWmwwdExUNG1iSFE3YzNSNWJHVStKbXgwT3lFdExTWWplR1E3Q2k4cUlFWnZiblFnUkdWbWFXNXBkR2x2Ym5NZ0tpOG1JM2hrT3dwQVptOXVkQzFtWVdObEppTjRaRHNLQ1h0bWIyNTBMV1poYldsc2VUb2lRMkZ0WW5KcFlTQk5ZWFJvSWpzbUkzaGtPd29KY0dGdWIzTmxMVEU2TWlBMElEVWdNeUExSURRZ05pQXpJRElnTkR0OUppTjRaRHNLUUdadmJuUXRabUZqWlNZamVHUTdDZ2w3Wm05dWRDMW1ZVzFwYkhrNlEyRnNhV0p5YVRzbUkzaGtPd29KY0dGdWIzTmxMVEU2TWlBeE5TQTFJRElnTWlBeUlEUWdNeUF5SURRN2ZTWWplR1E3Q2tCbWIyNTBMV1poWTJVbUkzaGtPd29KZTJadmJuUXRabUZ0YVd4NU9rRnlhV0ZzVFZRN2ZTWWplR1E3Q2k4cUlGTjBlV3hsSUVSbFptbHVhWFJwYjI1eklDb3ZKaU40WkRzS2NDNU5jMjlPYjNKdFlXd3NJR3hwTGsxemIwNXZjbTFoYkN3Z1pHbDJMazF6YjA1dmNtMWhiQ1lqZUdRN0NnbDdiV0Z5WjJsdU9qQmpiVHNtSTNoa093b0piV0Z5WjJsdUxXSnZkSFJ2YlRvdU1EQXdNWEIwT3lZamVHUTdDZ2xtYjI1MExYTnBlbVU2TVRFdU1IQjBPeVlqZUdRN0NnbG1iMjUwTFdaaGJXbHNlVG9pUTJGc2FXSnlhU0lzYzJGdWN5MXpaWEpwWmpzbUkzaGtPd29KYlhOdkxXWmhjbVZoYzNRdGJHRnVaM1ZoWjJVNlJVNHRWVk03ZlNZamVHUTdDbUU2YkdsdWF5d2djM0JoYmk1TmMyOUllWEJsY214cGJtc21JM2hrT3dvSmUyMXpieTF6ZEhsc1pTMXdjbWx2Y21sMGVUbzVPVHNtSTNoa093b0pZMjlzYjNJNkl6QTFOak5ETVRzbUkzaGtPd29KZEdWNGRDMWtaV052Y21GMGFXOXVPblZ1WkdWeWJHbHVaVHQ5SmlONFpEc0tZVHAyYVhOcGRHVmtMQ0J6Y0dGdUxrMXpiMGg1Y0dWeWJHbHVhMFp2Ykd4dmQyVmtKaU40WkRzS0NYdHRjMjh0YzNSNWJHVXRjSEpwYjNKcGRIazZPVGs3SmlONFpEc0tDV052Ykc5eU9pTTVOVFJHTnpJN0ppTjRaRHNLQ1hSbGVIUXRaR1ZqYjNKaGRHbHZianAxYm1SbGNteHBibVU3ZlNZamVHUTdDbk53WVc0dVJXMWhhV3hUZEhsc1pURTNKaU40WkRzS0NYdHRjMjh0YzNSNWJHVXRkSGx3WlRwd1pYSnpiMjVoYkMxamIyMXdiM05sT3lZamVHUTdDZ2xtYjI1MExXWmhiV2xzZVRvaVEyRnNhV0p5YVNJc2MyRnVjeTF6WlhKcFpqc21JM2hrT3dvSlkyOXNiM0k2ZDJsdVpHOTNkR1Y0ZER0OUppTjRaRHNLTGsxemIwTm9jRVJsWm1GMWJIUW1JM2hrT3dvSmUyMXpieTF6ZEhsc1pTMTBlWEJsT21WNGNHOXlkQzF2Ym14NU95WWplR1E3Q2dsbWIyNTBMV1poYldsc2VUb2lRMkZzYVdKeWFTSXNjMkZ1Y3kxelpYSnBaanNtSTNoa093b0piWE52TFdaaGNtVmhjM1F0YkdGdVozVmhaMlU2UlU0dFZWTTdmU1lqZUdRN0NrQndZV2RsSUZkdmNtUlRaV04wYVc5dU1TWWplR1E3Q2dsN2MybDZaVG8yTVRJdU1IQjBJRGM1TWk0d2NIUTdKaU40WkRzS0NXMWhjbWRwYmpveUxqQmpiU0EwTWk0MWNIUWdNaTR3WTIwZ015NHdZMjA3ZlNZamVHUTdDbVJwZGk1WGIzSmtVMlZqZEdsdmJqRW1JM2hrT3dvSmUzQmhaMlU2VjI5eVpGTmxZM1JwYjI0eE8zMG1JM2hrT3dvdExUNG1iSFE3TDNOMGVXeGxQaVpzZERzaExTMWJhV1lnWjNSbElHMXpieUE1WFNabmREc21iSFE3ZUcxc1BpWWplR1E3Q2lac2REdHZPbk5vWVhCbFpHVm1ZWFZzZEhNZ2RqcGxlSFE5SW1Wa2FYUWlJSE53YVdSdFlYZzlJakV3TWpZaUlDOCtKaU40WkRzS0pteDBPeTk0Yld3K0pteDBPeUZiWlc1a2FXWmRMUzArSm14ME95RXRMVnRwWmlCbmRHVWdiWE52SURsZEptZDBPeVpzZER0NGJXdytKaU40WkRzS0pteDBPMjg2YzJoaGNHVnNZWGx2ZFhRZ2RqcGxlSFE5SW1Wa2FYUWlQaVlqZUdRN0NpWnNkRHR2T21sa2JXRndJSFk2WlhoMFBTSmxaR2wwSWlCa1lYUmhQU0l4SWlBdlBpWWplR1E3Q2lac2REc3ZienB6YUdGd1pXeGhlVzkxZEQ0bWJIUTdMM2h0YkQ0bWJIUTdJVnRsYm1ScFpsMHRMVDRtSTNoa093b21iSFE3TDJobFlXUStKaU40WkRzS0pteDBPMkp2WkhrZ2JHRnVaejBpVWxVaUlHeHBibXM5SWlNd05UWXpRekVpSUhac2FXNXJQU0lqT1RVMFJqY3lJajRtSTNoa093b21iSFE3Y0NCemRIbHNaVDBpWm05dWRDMXphWHBsT2pFd2NIUTdJR052Ykc5eU9pTXdNREF3Wm1ZaVBpWnNkRHRwUHRDUzBKM1FsZENvMEozUXI5Q3ZJTkNmMEo3UXA5Q2kwSkE2SU5DVjBZSFF1OUM0SU5DKzBZTFF2OUdBMExEUXN0QzQwWUxRdGRDNzBZd2cwTDNRdGRDNDBMZlFzdEMxMFlIUmd0QzEwTDBzSU5DOTBMVWcwTC9RdGRHQTBMWFJoZEMrMExUUXVOR0MwTFVnMEwvUXZpRFJnZEdCMFl2UXU5QzYwTERRdkN3ZzBMM1F0U0RRdnRHQzBML1JnTkN3MExMUXU5R1AwTG5SZ3RDMUlOQy8wTERSZ05DKzBMdlF1Q3dnMFlFZzBMN1JnZEdDMEw3UmdOQyswTGJRdmRDKzBZSFJndEdNMFk0ZzBMN1JndEM2MFlEUmk5Q3kwTERRdWRHQzBMVWcwTExRdTlDKzBMYlF0ZEM5MExqUmp5NG1iSFE3TDJrK0pteDBPeTl3UGlZamVHUTdDaVpzZER0aWNqNG1JM2hrT3dvbWJIUTdZbkkrSmlONFpEc0tKbXgwTzJKeVBpWWplR1E3Q2lac2REdGljajRtSTNoa093b21iSFE3WkdsMlBpWWplR1E3Q2lac2REdGthWFlnWTJ4aGMzTTlJbGR2Y21SVFpXTjBhVzl1TVNJK0ppTjRaRHNLSm14ME8zQWdZMnhoYzNNOUlrMXpiMDV2Y20xaGJDSSswSlRRdnRDeDBZRFJpOUM1SU5DMDBMWFF2ZEdNSVNac2REdHZPbkErSm14ME95OXZPbkErSm14ME95OXdQaVlqZUdRN0NpWnNkRHR3SUdOc1lYTnpQU0pOYzI5T2IzSnRZV3dpUHRDYTBMTFFzTkMwMFlEUXNOR0NJRFV3SU5HQjBZSXpJT0tBa3lBMExEQTFNQ0RSZ3RDOUlDWnNkRHR2T25BK0pteDBPeTl2T25BK0pteDBPeTl3UGlZamVHUTdDaVpzZER0d0lHTnNZWE56UFNKTmMyOU9iM0p0WVd3aVBpWnNkRHR2T25BK0ptRnRjRHR1WW5Od095WnNkRHN2Ynpwd1BpWnNkRHN2Y0Q0bUkzaGtPd29tYkhRN2NDQmpiR0Z6Y3owaVRYTnZUbTl5YldGc0lqNG1iSFE3Ynpwd1BpWmhiWEE3Ym1KemNEc21iSFE3TDI4NmNENG1iSFE3TDNBK0ppTjRaRHNLSm14ME8zQWdZMnhoYzNNOUlrMXpiMDV2Y20xaGJDSWdjM1I1YkdVOUltMXpieTF0WVhKbmFXNHRkRzl3TFdGc2REcGhkWFJ2TzIxemJ5MXRZWEpuYVc0dFltOTBkRzl0TFdGc2REcGhkWFJ2SWo0bWJIUTdjM0JoYmlCemRIbHNaVDBpWm05dWRDMXphWHBsT2pFMkxqQndkRHRtYjI1MExXWmhiV2xzZVRwQmNtbGhiRTFVTzJOdmJHOXlPaU13TUROR09ESTdiWE52TFdaaGNtVmhjM1F0YkdGdVozVmhaMlU2VWxVaVB1S0FsQ1pzZERzdmMzQmhiajRtYkhRN2MzQmhiaUJ6ZEhsc1pUMGlabTl1ZEMxemFYcGxPakUyTGpCd2REdG1iMjUwTFdaaGJXbHNlVG9tWVcxd08zRjFiM1E3VkdsdFpYTWdUbVYzSUZKdmJXRnVKbUZ0Y0R0eGRXOTBPeXh6WlhKcFpqdHRjMjh0Wm1GeVpXRnpkQzFzWVc1bmRXRm5aVHBTVlNJK0pteDBPMjg2Y0Q0bWJIUTdMMjg2Y0Q0bWJIUTdMM053WVc0K0pteDBPeTl3UGlZamVHUTdDaVpzZER0d0lHTnNZWE56UFNKTmMyOU9iM0p0WVd3aUlITjBlV3hsUFNKdGMyOHRiV0Z5WjJsdUxYUnZjQzFoYkhRNllYVjBienR0YzI4dGJXRnlaMmx1TFdKdmRIUnZiUzFoYkhRNllYVjBienQwWlhoMExXRjFkRzl6Y0dGalpUcHViMjVsSWo0bUkzaGtPd29tYkhRN1lqNG1iSFE3YzNCaGJpQnpkSGxzWlQwaVptOXVkQzF6YVhwbE9qRXdMakJ3ZER0bWIyNTBMV1poYldsc2VUb21ZVzF3TzNGMWIzUTdRWEpwWVd3bVlXMXdPM0YxYjNRN0xITmhibk10YzJWeWFXWTdZMjlzYjNJNkl6QXdNMFk0TWp0dGMyOHRabUZ5WldGemRDMXNZVzVuZFdGblpUcFNWU0krMEtqUWtOQ1QwSkRRbTlDWTBKWFFrdENRSU5DaDBKTFFsZENpMEp2UWtOQ2QwSkFnMEpMUW1OQ2EwS0xRbnRDZzBKN1FrdENkMEpBbWJIUTdMM053WVc0K0pteDBPeTlpUGlac2REdHpjR0Z1SUhOMGVXeGxQU0ptYjI1MExYTnBlbVU2TVRBdU1IQjBPMlp2Ym5RdFptRnRhV3g1T2laaGJYQTdjWFZ2ZER0VWFXMWxjeUJPWlhjZ1VtOXRZVzRtWVcxd08zRjFiM1E3TEhObGNtbG1PMjF6YnkxbVlYSmxZWE4wTFd4aGJtZDFZV2RsT2xKVklqNG1iSFE3Ynpwd1BpWnNkRHN2Ynpwd1BpWnNkRHN2YzNCaGJqNG1iSFE3TDNBK0ppTjRaRHNLSm14ME8zQWdZMnhoYzNNOUlrMXpiMDV2Y20xaGJDSStKbXgwTzNOd1lXNGdjM1I1YkdVOUltWnZiblF0YzJsNlpUbzRMakJ3ZER0bWIyNTBMV1poYldsc2VUb21ZVzF3TzNGMWIzUTdRWEpwWVd3bVlXMXdPM0YxYjNRN0xITmhibk10YzJWeWFXWTdZMjlzYjNJNkl6TTJOVVk1TVR0dGMyOHRabUZ5WldGemRDMXNZVzVuZFdGblpUcFNWU0krMEp6UXNOR0EwTHJRdGRHQzBMN1F1OUMrMExNZ0xTRFJnZEM5MExEUXNkQzIwTFhRdmRDMTBZWW1iSFE3Ynpwd1BpWnNkRHN2Ynpwd1BpWnNkRHN2YzNCaGJqNG1iSFE3TDNBK0ppTjRaRHNLSm14ME8zQWdZMnhoYzNNOUlrMXpiMDV2Y20xaGJDSStKbXgwTzNOd1lXNGdjM1I1YkdVOUltWnZiblF0YzJsNlpUbzRMakJ3ZER0bWIyNTBMV1poYldsc2VUb21ZVzF3TzNGMWIzUTdRWEpwWVd3bVlXMXdPM0YxYjNRN0xITmhibk10YzJWeWFXWTdZMjlzYjNJNkl6TTJOVVk1TVR0dGMyOHRabUZ5WldGemRDMXNZVzVuZFdGblpUcFNWU0krMEtMUXRkQzdMam9nSm1GdGNEc2pORE03TnlBb016UXlLU0F5TlRrZ01UQWdNelVnS05DMDBMN1FzUzRnTlRVeU55a21iSFE3Ynpwd1BpWnNkRHN2Ynpwd1BpWnNkRHN2YzNCaGJqNG1iSFE3TDNBK0ppTjRaRHNLSm14ME8zQWdZMnhoYzNNOUlrMXpiMDV2Y20xaGJDSStKbXgwTzNOd1lXNGdjM1I1YkdVOUltWnZiblF0YzJsNlpUbzRMakJ3ZER0bWIyNTBMV1poYldsc2VUb21ZVzF3TzNGMWIzUTdRWEpwWVd3bVlXMXdPM0YxYjNRN0xITmhibk10YzJWeWFXWTdZMjlzYjNJNkl6TTJOVVk1TVR0dGMyOHRabUZ5WldGemRDMXNZVzVuZFdGblpUcFNWU0krVGRDKzBMRXVPaUFtWVcxd095TTBNenMzSUNnNU1Ea3BJREV3TXlBME9DQTFOQ1pzZER0dk9uQStKbXgwT3k5dk9uQStKbXgwT3k5emNHRnVQaVpzZERzdmNENG1JM2hrT3dvbWJIUTdjQ0JqYkdGemN6MGlUWE52VG05eWJXRnNJajRtYkhRN2MzQmhiaUJ6ZEhsc1pUMGlabTl1ZEMxemFYcGxPamd1TUhCME8yWnZiblF0Wm1GdGFXeDVPaVpoYlhBN2NYVnZkRHRCY21saGJDWmhiWEE3Y1hWdmREc3NjMkZ1Y3kxelpYSnBaanRqYjJ4dmNqb2pNelkxUmpreE8yMXpieTFtWVhKbFlYTjBMV3hoYm1kMVlXZGxPbEpWSWo0bWJIUTdienB3UGlaaGJYQTdibUp6Y0RzbWJIUTdMMjg2Y0Q0bWJIUTdMM053WVc0K0pteDBPeTl3UGlZamVHUTdDaVpzZER0d0lHTnNZWE56UFNKTmMyOU9iM0p0WVd3aVBpWnNkRHR6Y0dGdUlITjBlV3hsUFNKbWIyNTBMWE5wZW1VNk9DNHdjSFE3Wm05dWRDMW1ZVzFwYkhrNkptRnRjRHR4ZFc5ME8wRnlhV0ZzSm1GdGNEdHhkVzkwT3l4ellXNXpMWE5sY21sbU8yTnZiRzl5T2lNek5qVkdPVEU3YlhOdkxXWmhjbVZoYzNRdGJHRnVaM1ZoWjJVNlVsVWlQdENlMEo3UW5pRENxOUNjMExYUmd0Q3cwTHZRdTlDNDBMM1FzdEMxMFlIUmdpRFFuOUMxMFlEUXZOR013cnNtYkhRN2J6cHdQaVpzZERzdmJ6cHdQaVpzZERzdmMzQmhiajRtYkhRN0wzQStKaU40WkRzS0pteDBPM0FnWTJ4aGMzTTlJazF6YjA1dmNtMWhiQ0krSm14ME8zTndZVzRnYzNSNWJHVTlJbVp2Ym5RdGMybDZaVG80TGpCd2REdG1iMjUwTFdaaGJXbHNlVG9tWVcxd08zRjFiM1E3UVhKcFlXd21ZVzF3TzNGMWIzUTdMSE5oYm5NdGMyVnlhV1k3WTI5c2IzSTZJek0yTlVZNU1UdHRjMjh0Wm1GeVpXRnpkQzFzWVc1bmRXRm5aVHBTVlNJKzBMTXVJTkNmMExYUmdOQzgwWXdzSU5HRDBMc3VJTkNiMFlQUXZkQ3cwWWZRc05HQTBZSFF1dEMrMExQUXZpQXpMeklzSU5DKzBZUXVJRFl3Tmlac2REdHZPbkErSm14ME95OXZPbkErSm14ME95OXpjR0Z1UGlac2REc3ZjRDRtSTNoa093b21iSFE3Y0NCamJHRnpjejBpVFhOdlRtOXliV0ZzSWo0bWJIUTdjM0JoYmlCemRIbHNaVDBpWm05dWRDMXphWHBsT2pndU1IQjBPMlp2Ym5RdFptRnRhV3g1T2laaGJYQTdjWFZ2ZER0QmNtbGhiQ1poYlhBN2NYVnZkRHNzYzJGdWN5MXpaWEpwWmp0amIyeHZjam9qTXpZMVJqa3hPMjF6YnkxbVlYSmxZWE4wTFd4aGJtZDFZV2RsT2xKVklqNXdaWEp0TG0wdGFXNTJaWE4wTG5KMUpteDBPMjg2Y0Q0bWJIUTdMMjg2Y0Q0bWJIUTdMM053WVc0K0pteDBPeTl3UGlZamVHUTdDaVpzZER0d0lHTnNZWE56UFNKTmMyOU9iM0p0WVd3aVBpWnNkRHR6Y0dGdUlITjBlV3hsUFNKbWIyNTBMWE5wZW1VNk9DNHdjSFE3Wm05dWRDMW1ZVzFwYkhrNkptRnRjRHR4ZFc5ME8wRnlhV0ZzSm1GdGNEdHhkVzkwT3l4ellXNXpMWE5sY21sbU8yTnZiRzl5T2lNek5qVkdPVEU3YlhOdkxXWmhjbVZoYzNRdGJHRnVaM1ZoWjJVNlVsVWlQaVpoYlhBN2JtSnpjRHNtYkhRN2J6cHdQaVpzZERzdmJ6cHdQaVpzZERzdmMzQmhiajRtYkhRN0wzQStKaU40WkRzS0pteDBPM0FnWTJ4aGMzTTlJazF6YjA1dmNtMWhiQ0lnYzNSNWJHVTlJbTF6YnkxdFlYSm5hVzR0ZEc5d0xXRnNkRHBoZFhSdk8yMXpieTF0WVhKbmFXNHRZbTkwZEc5dExXRnNkRHBoZFhSdklqNG1iSFE3YzNCaGJpQnpkSGxzWlQwaVptOXVkQzF6YVhwbE9qRXlMakJ3ZER0bWIyNTBMV1poYldsc2VUb21ZVzF3TzNGMWIzUTdWR2x0WlhNZ1RtVjNJRkp2YldGdUptRnRjRHR4ZFc5ME95eHpaWEpwWmp0dGMyOHRabUZ5WldGemRDMXNZVzVuZFdGblpUcFNWU0krSm14ME8ybHRaeUIzYVdSMGFEMGlNVGN5SWlCb1pXbG5hSFE5SWpNMklpQnpkSGxzWlQwaWQybGtkR2c2TVM0M09URTJhVzQ3YUdWcFoyaDBPaTR6TnpWcGJpSWdhV1E5SXRDZzBMalJnZEdEMEwzUXZ0QzZYM2d3TURJd1h6RWlJSE55WXowaVkybGtPbWx0WVdkbE1EQXhMbkJ1WjBBd01VUkJNekU1T0M1R09UTXhRemN6TUNJK0pteDBPMjg2Y0Q0bWJIUTdMMjg2Y0Q0bWJIUTdMM053WVc0K0pteDBPeTl3UGlZamVHUTdDaVpzZER0d0lHTnNZWE56UFNKTmMyOU9iM0p0WVd3aVBpWnNkRHR2T25BK0ptRnRjRHR1WW5Od095WnNkRHN2Ynpwd1BpWnNkRHN2Y0Q0bUkzaGtPd29tYkhRN0wyUnBkajRtSTNoa093b21iSFE3TDJScGRqNG1JM2hrT3dvbWJIUTdMMkp2WkhrK0ppTjRaRHNLSm14ME95OW9kRzFzUGlZamVHUTdDand2Wm1sc1pVTnZiblJsYm5RK1BDOXFjMjl1VDJKcVpXTjBQand2YzI5aGNHVnVkanBDYjJSNVBqd3ZjMjloY0dWdWRqcEZiblpsYkc5d1pUND0="
    df = pd.read_csv("data/Selected_Emails.csv")
    texts = []
    for hash in df['Base64 Encoded Email']:
        text = text_from_hash(hash)
        texts += [text]
        texts += ['%'*20]
        # print(text)
    pd.DataFrame({'Only_text':texts}).to_csv("data/Selected_only_text.csv", index=False)
